let en = {
    "homeBTN": "Home",
    "leaderboardBTN": "Leaderboard",
    "statisticsBTN" : "Statistics",
    "friendsBTN": "Friends",
    "profileBTN": "Profile",
    "score": "Score",
    "rank": "Rank",
    "chat-name": "General Chat",
    "home-friend-button" : "Create Room", 
    "home-ai-button" : "Join the Room",
    "score" : "Score", 
    "rank" : "Rank",
    "room-number": "Room Number",
    "findFriendSearch": "Search User",
    "general-chat-pop": "General Chat",
    "send-button": "Send",
    "message-input" : "Type your message here",
    "friend-button" : "Friends",
    "received-requests-button" : "Received Requests",
    "sent-requests-button" : "Sent Requests",
    "noFriends": "You have no friends",
    "profile-edit" : "Edit Profile",
    "logoutButton" : "Logout",
    "profil-add-friend" : "Add Friend",
    "friendUsername"    : "Friend Username",
    "profile-game-name" : "Game Name",
    "profile-name" : "Name",
    "profile-surname" : "Surname",
    "profile-level" : "Level",
    "profile-grade" : "Grade",
    "profile-campus" : "Campus",
    "leaderboard-ranking" : "Ranking",
    "leaderboard-user-nickname": "User Nickname",
    "leaderboard-score": "Score",
    "statistics-wins" : "Wins",
    "statistics-losses" : "Losses",
    "statistics-draws" : "Draws",
    "statistics-total-number-of-games-played" : "Total Number of Games Played",
    "statistics-longest-winning-streak" : "Longest Winning Streak",
    "statistics-win-rate" : "Win Rate",
    "statistics-total-number-of-tournament-played" : "Total Number of Tournament Played",
    "statistics-player-played-minutes-in-total" : "Player Played Minutes in Total",
    "statistics-win-rate-of-tournament" : "Win Rate of Tournament",
    "statistics-match-history" : "Match History",
    "matchs-history-match-tournament-histories" : "Match And Tournament Histories",
    "game-room-status" : "Status",
    "game-room-status-ifonline" : "Waiting for Opponent",
    "game-room-status-invite-with-friends" : "Invite with Friends",
    "game-room-status-start-button" : "Start Game",
};

let tr = {
    "homeBTN": "Ana Sayfa",
    "leaderboardBTN": "Liderlik Tablosu",
    "statisticsBTN" : "İstatistikler",
    "friendsBTN": "Arkadaşlar",
    "profileBTN": "Profil",
    "score": "Puan",
    "rank": "Sıra",
    "chat-name": "Genel Sohbet",
    "home-friend-button" : "Oda Oluştur",
    "home-ai-button" : "Odaya Katıl",
    "score" : "Puan",
    "rank" : "Sıra",
    "room-number": "Oda Numarası",
    "findFriendSearch": "Kullanici Ara",
    "general-chat-pop": "Genel Sohbet",
    "send-button": "Gönder",
    "message-input" : "Mesajınızı buraya yazın",
    "friend-button" : "Arkadaşlar",
    "received-requests-button" : "Gelen İstekler",
    "sent-requests-button" : "Gönderilen İstekler",
    "noFriends": "Arkadaşınız yok",
    "profile-edit" : "Profil Düzenle",
    "logoutButton" : "Çıkış Yap",
    "profil-add-friend" : "Arkadaş Ekle",
    "friendUsername" : "Arkadaş Kullanıcı Adı",
    "profile-game-name" : "Oyun Adı",
    "profile-name" : "İsim",
    "profile-surname" : "Soyisim",
    "profile-level" : "Seviye",
    "profile-grade" : "Derece",
    "profile-campus" : "Kampüs",
    "leaderboard-ranking" : "Sıra",
    "leaderboard-user-nickname": "Kullanıcı Adı",
    "leaderboard-score": "Puan",
    "statistics-wins" : "Kazanılan Oyunlar",
    "statistics-losses" : "Kaybedilen Oyunlar",
    "statistics-draws" : "Beraberlikler",
    "statistics-total-number-of-games-played" : "Oynanan Toplam Oyun Sayısı",
    "statistics-longest-winning-streak" : "En Uzun Kazanma Serisi",
    "statistics-win-rate" : "Kazanma",
    "statistics-total-number-of-tournament-played" : "Oynanan Toplam Turnuva Sayısı",
    "statistics-player-played-minutes-in-total" : "Toplamda Oynanan Dakika",
    "statistics-win-rate-of-tournament" : "Turnuva Kazanma Oranı",
    "statistics-match-history" : "Maç Geçmişi",
    "matchs-history-match-tournament-histories" : "Maç ve Turnuva Geçmişi",
    "game-room-status" : "Durum",
    "game-room-status-ifonline" : "Rakip Bekleniyor",
    "game-room-status-invite-with-friends" : "Arkadaşlari Davet Et",
    "game-room-status-start-button" : "Oyunu Başlat",
};

let de = {
    "homeBTN": "Startseite",
    "leaderboardBTN": "Bestenliste",
    "statisticsBTN" : "Statistiken",
    "friendsBTN": "Freunde",
    "profileBTN": "Profil",
    "score": "Punktzahl",
    "rank": "Rang",
    "chat-name": "Allgemeiner Chat",
    "home-friend-button" : "Raum erstellen",
    "home-ai-button" : "Raum beitreten",
    "score" : "Punktzahl",
    "rank" : "Rang",
    "room-number": "Raumnummer",
    "findFriendSearch": "Freund finden",
    "general-chat-pop": "Allgemeiner Chat",
    "send-button": "Senden",
    "message-input" : "Geben Sie hier Ihre Nachricht ein",
    "sent-requests-button" : "Sent Requests",
    "friend-button" : "Freunde",
    "received-requests-button" : "Erhaltene Anfragen",
    "noFriends": "Sie haben keine Freunde",
    "profile-edit" : "Profil bearbeiten",
    "logoutButton" : "Ausloggen",
    "profil-add-friend" : "Freund hinzufügen",
    "friendUsername" : "Freund Benutzername",
    "profile-game-name" : "Spielname",
    "profile-name" : "Name",
    "profile-surname" : "Nachname",
    "profile-level" : "Niveau",
    "profile-grade" : "Grad",
    "profile-campus" : "Campus",
    "leaderboard-ranking" : "Rang",
    "leaderboard-user-nickname": "Benutzername",
    "leaderboard-score": "Punktzahl",
    "statistics-wins" : "Gewonnene Spiele",
    "statistics-losses" : "Verlorene Spiele",
    "statistics-draws" : "Unentschieden",
    "statistics-total-number-of-games-played" : "Gesamtzahl der gespielten Spiele",
    "statistics-longest-winning-streak" : "Längste Gewinnserie",
    "statistics-win-rate" : "Gewinnrate",
    "statistics-total-number-of-tournament-played" : "Gesamtzahl der gespielten Turniere",
    "statistics-player-played-minutes-in-total" : "Spieler gespielte Minuten insgesamt",
    "statistics-win-rate-of-tournament" : "Gewinnrate des Turniers",
    "statistics-match-history" : "Spielverlauf",
    "matchs-history-match-tournament-histories" : "Spiel- und Turnierverlauf",
    "game-room-status" : "Status",
    "game-room-status-ifonline" : "Warten auf Gegner",
    "game-room-status-invite-with-friends" : "Freunde einladen",
    "game-room-status-start-button" : "Spiel starten",
};


let currentLang = initLanguage();

function initLanguage()
{
    const cLang = localStorage.getItem("language");
    console.log("initLanguage", cLang);
    if (cLang === null) {
        localStorage.setItem("language", "en");
        return "en";
    }
    else {
        document.getElementById('language-selector').value = cLang;
        return cLang;
    }
}

function changeLanguage(language) {
    currentLang = language;
    localStorage.setItem("language", language);
    loadLanguage();
}

function loadLanguage() {
    let _lan = currentLang;
    if (currentLang === "en") {
        _lan = en;
    } else if (currentLang === "tr") {
        _lan = tr;
    }
    else if (currentLang === "de") {
        _lan = de;
    }
    console.log("Loading language:", currentLang, _lan);

    const willChange = document.querySelectorAll("[data-lang]");
    
    willChange.forEach(function(element) {
        const key = element.getAttribute("data-lang");
        if (element.tagName === "INPUT" && element.hasAttribute("placeholder")) {
            element.setAttribute("placeholder", _lan[key]);
        } else {
            element.innerHTML = _lan[key];
        }
    });
}

document.getElementById('language-selector').addEventListener('change', function (e) {
    changeLanguage(e.target.value);
});